<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Army Map Servers</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">

    <script src="https://code.highcharts.com/maps/highmaps.js"></script>
    <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/maps/modules/accessibility.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/df44-1411/CPAMap2026_v1@main/styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/df44-1411/CPAMap2026_v1@main/map.css">

    <style>
        /* VARI√ÅVEIS GLOBAIS */
        :root {
            --cp-blue: #0096ff;
            --cp-interface-bg: #005f9e;
            --cp-stroke: #002244;
            --font-stack: 'Luckiest Guy', bold;
        }

        body {
            background-color: var(--cp-blue);
            font-family: var(--font-stack);
            margin: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background-image: linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px);
            background-size: 100% 3px;
        }

        /* MOCKUP INTERFACE BOX */
        .cp-interface {
            width: 1000px;
            height: 700px;
            background: var(--cp-interface-bg); 
            border: 8px solid #003355;
            border-radius: 14px;
            box-shadow: 
                inset 0 0 40px rgba(0,0,0,0.6), 
                0 15px 35px rgba(0,0,0,0.5);
            
            /* Layout */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            position: relative;
        }

        /* HEADER TEXT */
        .header-image {
            margin-top: 30px;
			margin-bottom: 20px;
            width: 300px; /* Adjust size of title */
            height: auto;
            z-index: 10;
        }

        /* THE MAP!!!! */
        .map-viewport {
            width: 88%; /* Matches footer width */
            height: 65%; /* Fixed height to prevent it from being too BIG! */
            margin-top: 15px; /* Spacing from title */
            margin-bottom: 10px; /* Spacing from footer */
            
            border: 5px solid #004488;
            border-radius: 20px;
            position: relative;
            box-shadow: inset 0 0 25px #000;
            overflow: hidden;
            
            background-color: #001529; 
            background-image: 
                linear-gradient(rgba(0, 150, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 150, 255, 0.1) 1px, transparent 1px);
            background-size: 35px 35px;
        }

        #container {
            width: 100%;
            height: 100%;
            background: transparent !important;
        }

        /* FOOTER */
        .footer-image-container {
            width: 88%; /* Match map border width */
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .footer-image-container img {
            width: 100%;
            height: auto;
            display: block;
			margin-top: 25px;
        }

        /* COSTUM TOOLTIP FOR CPAB */
        .custom-tooltip-card {
            background: linear-gradient(180deg, rgba(0, 60, 100, 0.95), rgba(0, 20, 40, 0.98));
            border: 3px solid #00ccff;
            border-radius: 12px;
            padding: 12px 16px;
            width: 280px;
            box-shadow: 0 0 20px rgba(0, 150, 255, 0.6);
            font-family: var(--font-stack);
            text-align: left;
            pointer-events: none;
            color: #fff;
            z-index: 9999;
        }

        .card-header {
            font-size: 28px;
            text-transform: uppercase;
            border-bottom: 2px solid #006699;
            padding-bottom: 4px;
            margin-bottom: 8px;
            text-shadow: 2px 2px 0 #000;
            letter-spacing: 1px;
        }

        .card-body {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .card-row {
            font-size: 13px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }
        
        .card-label { color: #aaddff; text-shadow: 1px 1px 0 #000; }
        .card-value { color: #ffffff; text-shadow: 1px 1px 0 #000; }

        /* Signal Bar */
        .signal-bar-container {
            display: flex;
            gap: 4px;
            background: #002244;
            padding: 4px 6px;
            border-radius: 6px;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.8);
            border: 1px solid #004466;
        }
        .signal-segment {
            width: 10px; height: 18px;
            background: #003355; 
            border-radius: 2px;
            transform: skewX(-10deg);
            opacity: 0.6;
        }
        .signal-segment.active {
            background: #39ff14; 
            opacity: 1;
            box-shadow: 0 0 8px #39ff14, inset 0 0 2px #fff;
        }

        /* --- STICKY NOTE --- */
        .sticky-wrapper {
            position: absolute;
            top: 25px;
            right: 0px;
            width: 250px;
            z-index: 100;
            transform: rotate(4deg);
            transition: transform 0.2s;
            cursor: pointer;
        }
        .sticky-wrapper:hover {
            transform: rotate(0deg) scale(1.05);
        }
        .sticky-bg {
            width: 100%;
            height: auto;
            display: block;
            filter: drop-shadow(5px 5px 8px rgba(0,0,0,0.5));
        }

        /* --- 7. HIGHCHARTS OVERRIDES --- */
        .highcharts-point {
            stroke: #ffffff !important;
            stroke-width: 1.5px !important;
            stroke-opacity: 0.9 !important;
        }
        .highcharts-point:hover {
            stroke: #00ccff !important;
            stroke-width: 4px !important;
            filter: drop-shadow(0 0 10px #00ccff);
        }
        
        .highcharts-data-label text {
            font-family: 'Luckiest Guy', cursive !important;
			text-transform: uppercase;
            font-size: 12px !important;
            fill: #ffffff !important;
            text-shadow: 1px 1px 0px #000000, -1px -1px 0 #000 !important;
            letter-spacing: 1px;
            font-weight: normal !important;
        }
    </style>
</head>
<body>

    <div class="cp-interface">
        
        <img src="https://cdn.discordapp.com/attachments/960890788093505556/1457529314944749690/image-removebg-preview_1.png?ex=697367b4&is=69721634&hm=ecabc0882a03308be1caf0cb9515f8473dd84426e6490555db66003090e4bc0d&" class="header-image" alt="ARMY MAP SERVERS">

        <div class="sticky-wrapper" onclick="alert('Redirecting to Server List...')">
            <img src="https://cdn.discordapp.com/attachments/960890788093505556/1457522534126981231/serverpostit.png?ex=69736163&is=69720fe3&hm=c21afdeef4fed3d2951b33ad5132f7c0d0fa66be542c22e6f84ffbe433ee0879&" alt="Note" class="sticky-bg">
        </div>

        <div class="map-viewport">
            <div id="container"></div>
        </div>

        <div class="footer-image-container">
            <img src="https://cdn.discordapp.com/attachments/960890788093505556/1457530349943787531/image-removebg-preview_2.png?ex=697368ab&is=6972172b&hm=3825db8505c551dd0ed3a80a384ec38e9d7f391a5b25f0429fc065b8750b8cf1&" alt="Penguin Status Legend">
        </div>
    </div>

    <script>
        (function(H) {
            H.wrap(H.Chart.prototype, 'init', function (proceed, userOptions, cb) {
                
                userOptions.chart = userOptions.chart || {};
                userOptions.chart.backgroundColor = 'transparent';
                
                userOptions.chart.panning = { enabled: false };
                userOptions.chart.pinchType = '';
                userOptions.chart.zoomType = '';
                userOptions.mapNavigation = { enabled: false };
                userOptions.credits = { enabled: false };

                userOptions.plotOptions = userOptions.plotOptions || {};
                userOptions.plotOptions.map = {
                    nullColor: 'transparent',
                    borderColor: '#FFFFFF',
                    borderWidth: 1.5,
                    states: {
                        hover: {
                            color: undefined, 
                            borderColor: '#00ccff',
                            borderWidth: 3
                        }
                    }
                };

                if(userOptions.plotOptions.series) {
                    userOptions.plotOptions.series.dataLabels = {
                        enabled: true,
                        allowOverlap: true,
                        overflow: 'allow',
                        crop: false,
                        padding: 0,
                        style: {
                            textOutline: '3px #000000',
                            color: '#FFFFFF',
                            fontSize: '14px',
                            fontFamily: "'Luckiest Guy', cursive",
                            textTransform: 'uppercase',
                            fontWeight: 'normal',
                            letterSpacing: '1px'
                        }
                    };
                }

                userOptions.tooltip = {
                    useHTML: true,
                    backgroundColor: 'transparent',
                    borderWidth: 0,
                    shadow: false,
                    padding: 0,
                    followPointer: true,
                    headerFormat: '',
                    pointFormat: '',
                    formatter: function () {
                        const name = this.key || this.point.name || "Unknown";
                        const props = this.point.properties || {};
                        const controller = this.point.controller || props.controller || this.point.owner || props.owner || "Unclaimed";
                        const type = this.point.type || props.type || "Normal";
                        const continent = this.point.continent || props.continent || "Unknown";
                        const titleColor = this.point.color || '#00ccff';

                        const fakePop = Math.floor(Math.random() * 5) + 1; 
                        let barsHtml = '';
                        for(let i = 1; i <= 5; i++) {
                            const activeClass = i <= fakePop ? 'active' : '';
                            barsHtml += `<div class="signal-segment ${activeClass}"></div>`;
                        }

                        return `
                        <div class="custom-tooltip-card">
                            <div class="card-header" style="color: ${titleColor}; text-shadow: 0 0 10px ${titleColor}, 2px 2px 0 #000;">
                                ${name}
                            </div>
                            <div class="card-body">
                                <div class="card-row">
                                    <span class="card-label">Owner:</span> 
                                    <span class="card-value">${controller}</span>
                                </div>
                                <div class="card-row">
                                    <span class="card-label">Type:</span> 
                                    <span class="card-value">${type}</span>
                                </div>
                                <div class="card-row">
                                    <span class="card-label">Continent:</span> 
                                    <span class="card-value">${continent}</span>
                                </div>
                                <div style="margin-top:12px; border-top:2px solid #004466; padding-top:8px;">
                                    <div class="card-row">
                                        <span class="card-label">Population:</span>
                                        <div class="signal-bar-container">${barsHtml}</div>
                                    </div>
                                </div>
                            </div>
                        </div>`;
                    }
                };

                proceed.apply(this, [userOptions, cb]);
            });
        }(Highcharts));
    </script>

    <script src="https://cdn.jsdelivr.net/gh/df44-1411/CPAMap2026_v1@main/map.js"></script>

</body>
</html>