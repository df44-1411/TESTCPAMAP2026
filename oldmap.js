//OLD CPA MAP - A PROJECT FOR CPA ORG

//MAP DESIGN and HIGHCHARTS DEVELOPMENT by df44 (Discord:.df44) (c) 2024  JUST SOME LANDS HERE

//MAP STARTS HERE!!
var mapData = [
  {
    "id": "id0",
    "name": "Xat",
    "path": "M832,902C821,903,819,915,812,920,800,921,801,941,812,943,823,948,838,951,847,941,851,939,861,935,856,929,851,925,848,920,850,914,849,907,838,903,832,902z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id1",
    "name": "Frosty",
    "path": "M795,700C787,701,782,713,791,717,795,726,796,737,792,746,785,752,777,757,773,765,769,776,753,774,751,784,754,800,752,815,754,831,761,844,779,846,793,848,806,849,818,856,826,867,844,883,870,878,891,881,907,884,923,886,938,880,939,869,938,855,950,849,959,842,973,840,978,829,979,819,964,816,962,809,963,802,971,792,965,786,956,782,944,792,937,783,932,770,927,755,931,741,931,731,920,740,916,742,903,747,888,748,876,743,867,738,881,725,870,722,856,723,846,708,832,712,823,712,812,718,807,708,804,704,800,700,795,700z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Water Vikings"
  },
  {
    "id": "id2",
    "name": "Frostbite",
    "path": "M955,622C940,625,925,632,908,631,884,632,858,631,834,627,830,635,845,641,841,651,839,660,838,671,827,674,819,680,808,677,799,681,795,686,790,693,793,699,801,701,808,705,813,712,827,715,844,706,855,717,861,720,868,721,875,722,877,729,870,740,879,743,899,749,920,740,936,727,941,717,941,704,947,694,956,676,979,667,986,648,984,641,978,636,974,630,969,625,963,622,955,622z",
    "continent": "Old Map Legacy Lands",
    "type": "CAPITAL",
    "controller": "Water Vikings"
  },
  {
    "id": "id3",
    "name": "Deep Freeze",
    "path": "M992,648C981,655,975,668,964,676,951,688,937,704,939,723,953,727,969,733,983,726,997,724,1010,720,1024,717,1034,717,1046,715,1056,719,1063,727,1055,738,1055,748,1052,761,1047,774,1045,787,1052,794,1057,779,1064,780,1078,782,1089,792,1099,800,1110,800,1122,799,1132,795,1138,787,1133,775,1131,767,1128,753,1132,738,1134,724,1131,718,1127,713,1127,707,1123,699,1108,699,1110,688,1109,679,1104,670,1094,669,1074,664,1053,667,1032,664,1019,658,1006,650,992,648z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Water Vikings"
  },
  {
    "id": "id4",
    "name": "Cabin",
    "path": "M1033,717C1019,717,1007,725,993,725,980,728,966,734,952,728,945,724,935,728,934,737,929,748,931,760,933,771,933,780,941,790,950,786,956,785,971,780,969,791,970,798,960,808,967,814,975,816,985,828,977,834,965,844,949,848,940,860,939,867,935,879,944,882,950,882,953,872,961,874,1002,880,1046,877,1086,864,1094,860,1086,849,1087,842,1084,828,1091,817,1096,806,1098,796,1085,793,1079,788,1072,784,1064,777,1057,785,1054,788,1047,794,1044,789,1046,766,1059,743,1055,719,1048,717,1041,718,1033,717z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Water Vikings"
  },
  {
    "id": "id5",
    "name": "Hockey",
    "path": "M775,601C760,603,750,618,736,625,732,631,738,639,737,646,738,656,732,671,745,673,754,679,767,686,766,699,768,709,784,713,788,703,793,694,793,679,806,678,820,678,838,671,839,655,843,645,835,637,830,629,825,618,810,621,802,614,794,607,786,601,775,601z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Water Vikings"
  },
  {
    "id": "id6",
    "name": "Fiesta",
    "path": "M739,673C735,674,734,676,730,673,717,672,705,681,695,689,685,695,672,696,662,693,654,684,645,695,642,702,637,711,631,720,626,729,629,736,640,734,644,741,652,748,660,758,671,756,686,762,700,774,717,772,727,772,738,772,745,779,752,780,758,773,765,772,772,766,775,755,785,750,797,745,795,728,790,719,784,709,768,712,765,701,766,687,752,678,741,673,740,673,739,673,739,673z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Water Vikings"
  },
  {
    "id": "id7",
    "name": "Yukon",
    "path": "M575,694C567,693,561,699,562,707,562,714,565,721,570,726,568,734,564,742,571,748,577,753,571,763,579,768,585,773,581,782,588,787,598,791,602,802,604,812,606,825,622,823,632,823,644,822,657,809,669,819,678,823,687,833,697,826,710,821,725,823,736,831,742,834,756,837,753,825,751,813,755,798,748,787,744,781,740,775,732,774,716,771,699,776,685,765,677,759,667,757,657,754,649,748,643,737,632,735,618,733,611,719,604,708,597,700,586,694,575,694z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Water Vikings"
  },
  {
    "id": "id8",
    "name": "Snowy River",
    "path": "M633,612C623,612,607,614,607,627,607,638,607,652,596,658,583,667,565,675,563,692,566,701,574,690,580,694,594,698,608,706,613,720,615,725,621,734,625,727,636,715,639,696,654,688,662,690,669,698,678,694,697,690,710,671,731,671,740,666,736,653,736,644,735,635,734,623,723,621,699,614,675,614,651,616,645,614,640,611,633,612z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id9",
    "name": "Cold Front",
    "path": "M596,617C573,617,555,634,542,650,529,665,526,684,517,700,511,709,496,716,500,729,503,735,516,738,511,747,509,755,498,762,501,770,509,776,523,772,528,783,535,791,544,801,555,796,563,791,572,788,581,786,586,778,578,770,575,764,575,755,569,748,566,741,567,734,570,726,564,721,561,708,560,693,566,681,573,668,589,664,599,654,608,644,608,629,606,617,603,616,599,617,596,617z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id10",
    "name": "South Pole",
    "path": "M1318,773C1307,772,1300,783,1301,793,1295,809,1289,824,1289,841,1287,853,1298,860,1306,867,1315,882,1333,885,1348,892,1356,895,1365,895,1373,897,1380,895,1389,893,1390,886,1387,877,1380,870,1376,862,1377,848,1383,835,1384,820,1387,807,1394,794,1405,785,1407,776,1393,771,1387,775,1379,778,1370,786,1362,780,1348,775,1333,773,1318,773z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id11",
    "name": "Hot Chocolate",
    "path": "M1401,701C1384,704,1373,720,1358,726,1351,726,1345,732,1345,738,1332,734,1328,750,1324,758,1318,765,1318,775,1329,770,1342,772,1356,776,1369,780,1380,779,1391,767,1402,776,1408,785,1422,784,1430,777,1450,773,1467,758,1477,741,1480,734,1484,721,1476,716,1460,714,1443,713,1428,705,1419,705,1410,702,1401,701z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id12",
    "name": "Sabertooth",
    "path": "M1537,724C1521,734,1501,737,1482,739,1475,744,1472,754,1464,760,1454,768,1443,776,1430,779,1424,785,1435,789,1437,795,1442,806,1453,811,1464,816,1473,820,1473,835,1485,835,1496,838,1498,823,1501,817,1515,813,1530,816,1544,818,1557,822,1571,818,1584,821,1588,827,1594,832,1601,828,1611,827,1621,834,1631,831,1643,832,1648,820,1652,812,1668,806,1685,803,1700,796,1705,790,1708,782,1711,776,1706,767,1694,764,1690,754,1684,745,1668,748,1666,735,1668,722,1655,731,1649,734,1637,742,1624,749,1610,751,1593,755,1579,768,1561,769,1553,764,1557,751,1553,743,1549,736,1544,730,1539,724L1537,724z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id13",
    "name": "Jerusalem",
    "path": "M1571,603C1564,605,1568,615,1562,619,1555,630,1542,635,1534,646,1522,655,1507,657,1494,663,1487,669,1485,678,1485,686,1481,693,1468,699,1474,709,1478,715,1484,719,1482,727,1479,736,1487,738,1494,737,1509,733,1527,731,1538,720,1541,711,1542,701,1548,694,1555,676,1562,659,1576,645,1584,639,1587,631,1577,626,1570,621,1581,606,1571,603z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id14",
    "name": "Sherbet",
    "path": "M1609,624C1592,630,1580,644,1569,657,1557,671,1553,689,1543,703,1537,716,1544,729,1553,739,1561,747,1554,761,1563,768,1578,765,1591,755,1606,751,1621,748,1636,743,1649,733,1653,731,1663,727,1656,723,1646,720,1635,713,1629,704,1627,696,1639,686,1628,682,1622,678,1619,672,1617,666,1615,662,1606,662,1611,656,1615,648,1623,638,1619,628,1615,627,1613,626,1610,624,1609,624,1609,624,1609,624z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id15",
    "name": "Zipline",
    "path": "M1739,506C1730,507,1720,512,1719,521,1710,536,1693,545,1683,559,1683,568,1688,580,1677,585,1668,595,1655,596,1644,602,1631,610,1621,624,1620,639,1620,647,1610,656,1617,662,1621,668,1621,677,1629,680,1638,685,1631,694,1630,702,1633,712,1646,716,1654,720,1659,723,1666,725,1670,719,1687,709,1706,700,1720,685,1726,677,1740,672,1735,660,1733,654,1733,645,1742,645,1752,645,1760,639,1768,633,1779,626,1795,629,1800,642,1802,647,1811,651,1812,643,1816,625,1806,608,1796,594,1788,585,1772,587,1765,578,1770,564,1788,562,1800,561,1821,562,1843,553,1854,534,1855,527,1859,520,1858,514,1847,504,1830,506,1816,509,1796,513,1776,515,1756,512,1750,510,1745,506,1739,506z",
    "continent": "Old Map Legacy Lands",
    "type": "CAPITAL",
    "controller": "Help Force"
  },
  {
    "id": "id16",
    "name": "Sparkle",
    "path": "M1677,496C1654,499,1637,518,1615,523,1603,527,1590,529,1579,534,1581,544,1575,554,1576,564,1581,574,1601,564,1599,579,1597,589,1585,593,1579,601,1579,610,1569,621,1580,627,1588,636,1598,626,1607,624,1614,622,1623,623,1627,615,1635,604,1647,597,1660,594,1669,590,1678,584,1683,576,1684,566,1679,553,1690,548,1698,538,1712,532,1716,520,1717,512,1716,501,1706,501,1697,498,1687,496,1677,496z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id17",
    "name": "Snow Globe",
    "path": "M1735,398C1724,398,1730,412,1723,417,1717,424,1712,432,1711,441,1706,448,1705,456,1704,463,1694,469,1684,480,1684,492,1692,500,1709,495,1716,505,1718,513,1725,511,1730,508,1745,502,1758,515,1773,513,1790,512,1809,512,1825,504,1829,494,1831,482,1840,475,1847,466,1856,458,1858,447,1853,440,1842,445,1834,443,1826,441,1813,448,1808,440,1803,432,1805,419,1793,418,1776,410,1757,405,1740,398,1738,398,1736,398,1735,398z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id18",
    "name": "North Pole",
    "path": "M1899,391C1883,390,1868,396,1855,404,1842,409,1828,413,1815,417,1807,417,1798,422,1805,431,1807,439,1813,445,1821,443,1834,444,1847,440,1859,445,1860,455,1851,463,1846,470,1840,479,1830,487,1829,498,1836,504,1846,507,1855,509,1862,507,1863,496,1871,493,1879,490,1889,493,1895,484,1903,480,1912,481,1918,474,1924,469,1934,471,1939,463,1951,449,1970,432,1962,411,1954,392,1930,393,1913,391,1909,391,1904,391,1899,391z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id19",
    "name": "Sled",
    "path": "M1861,523C1853,525,1858,537,1852,541,1839,555,1822,563,1803,561,1791,563,1776,564,1768,575,1767,584,1780,583,1785,586,1802,591,1807,610,1815,623,1814,638,1812,653,1811,668,1816,674,1819,662,1825,667,1834,672,1842,681,1853,681,1865,686,1875,693,1888,693,1899,696,1907,689,1915,684,1927,690,1940,682,1947,671,1962,653,1968,624,1953,603,1948,590,1937,582,1925,575,1906,558,1883,545,1867,526,1865,524,1863,523,1861,523z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id20",
    "name": "Puddle",
    "path": "M1781,630C1770,631,1763,639,1755,644,1747,644,1736,644,1736,654,1734,662,1739,673,1729,678,1713,694,1695,708,1675,718,1664,723,1665,742,1678,745,1686,747,1692,752,1695,759,1703,766,1711,774,1722,775,1738,773,1755,767,1767,756,1788,743,1801,722,1822,709,1827,702,1815,698,1812,693,1803,685,1813,673,1810,663,1810,649,1797,640,1788,632,1785,631,1783,630,1781,630z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id21",
    "name": "Geladeira",
    "path": "M1717,843C1709,843,1699,848,1702,858,1702,867,1690,871,1690,880,1699,886,1712,884,1722,889,1729,890,1741,902,1743,889,1745,882,1753,878,1751,871,1740,863,1736,844,1721,843,1720,843,1718,843,1717,843z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id22",
    "name": "Abracadabra",
    "path": "M1933,742C1921,742,1914,756,1922,766,1927,773,1929,781,1928,790,1930,797,1937,801,1936,809,1936,821,1946,833,1957,837,1964,838,1973,832,1970,824,1968,813,1957,801,1966,791,1969,781,1964,771,1963,761,1956,752,1945,747,1935,742,1934,742,1934,742,1933,742z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id23",
    "name": "Mountain",
    "path": "M1444,856C1437,858,1436,866,1439,872,1441,878,1436,889,1446,890,1452,891,1463,890,1461,881,1463,870,1455,860,1445,856z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id24",
    "name": "Warzone",
    "path": "M1261,262C1247,262,1232,269,1228,282,1222,291,1215,302,1223,311,1225,325,1213,335,1208,346,1200,358,1199,374,1188,384,1182,389,1189,395,1195,394,1209,395,1221,403,1235,406,1251,407,1267,406,1281,397,1290,393,1304,389,1311,399,1317,409,1328,408,1339,408,1358,407,1379,407,1395,421,1405,426,1418,423,1429,421,1437,418,1434,405,1425,406,1402,405,1379,395,1365,375,1354,362,1347,347,1340,332,1331,323,1330,310,1330,299,1330,291,1322,288,1323,280,1319,271,1308,275,1302,269,1289,264,1275,262,1261,262z",
    "continent": "Old Map Legacy Lands",
    "type": "CAPITAL",
    "controller": "Club Penguin Army Judges"
  },
  {
    "id": "id25",
    "name": "Klondike",
    "path": "M939,11C916,12,889,20,879,42,877,48,878,57,872,61,861,67,851,74,844,85,832,97,816,105,808,120,801,130,789,137,777,131,764,129,748,117,753,102,755,92,763,85,767,76,768,63,753,58,744,53,724,45,701,50,680,48,670,49,657,44,651,55,646,61,640,66,633,71,628,79,630,92,640,96,648,100,656,108,651,118,649,126,642,135,652,141,658,148,651,160,658,166,669,164,681,157,692,163,707,170,724,174,740,170,753,168,764,175,772,184,783,192,795,175,806,182,818,191,830,203,835,217,840,230,826,244,836,255,845,261,854,269,864,269,874,264,871,250,872,241,872,229,876,214,888,210,895,209,905,215,911,206,917,194,924,177,940,177,954,178,967,183,980,179,989,175,1001,181,1009,173,1017,164,1019,146,1006,141,995,135,977,130,979,115,982,98,1003,96,1010,82,1007,74,995,78,991,82,986,86,985,78,988,75,990,63,994,51,989,39,985,25,969,27,958,25,953,22,956,12,947,12,945,11,942,11,939,11z",
    "continent": "Old Map Legacy Lands",
    "type": "CAPITAL",
    "controller": "Club Penguin Armies"
  },
  {
    "id": "id26",
    "name": "Northern Lights",
    "path": "M103,104C97,106,90,109,83,107,72,108,61,113,49,114,29,120,16,143,20,163,26,176,48,175,51,191,56,205,45,216,35,224,25,233,9,243,10,258,17,266,29,261,38,261,56,261,76,254,91,265,100,270,103,280,97,288,95,293,86,302,96,305,105,310,104,328,118,327,136,325,147,308,160,298,168,284,166,266,170,251,172,238,187,234,191,221,200,212,183,209,185,199,185,186,169,181,168,168,168,157,165,145,154,140,145,137,135,134,131,124,125,116,118,105,108,105,106,104,105,104,103,104z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Aliens"
  },
  {
    "id": "id27",
    "name": "Zero Grau",
    "path": "M171,66C155,67,145,82,134,90,129,96,122,100,117,106,123,115,132,123,139,131,148,138,163,138,167,152,168,163,170,175,179,183,186,189,185,198,188,205,193,209,195,216,196,222,203,225,208,214,213,210,219,203,224,186,236,191,245,198,246,214,260,216,276,221,295,232,311,221,319,215,323,203,335,205,348,205,335,188,345,183,347,174,334,174,329,170,309,163,293,149,275,138,270,137,262,138,262,130,259,120,246,127,239,121,226,117,211,121,199,114,191,100,189,82,180,68,178,66,174,66,171,66z",
    "continent": "Old Map Legacy Lands",
    "type": "CAPITAL",
    "controller": "Scarlet Republic"
  },
  {
    "id": "id28",
    "name": "Deu Branco",
    "path": "M233,191C219,195,218,214,205,220,193,228,179,236,172,249,172,255,166,267,175,269,185,269,187,283,192,290,200,306,207,324,200,342,203,351,212,359,222,361,237,361,247,348,261,345,268,341,277,344,283,341,289,332,293,318,306,319,319,318,315,295,330,296,337,295,351,299,349,287,350,272,345,253,357,240,367,236,363,223,355,219,348,215,345,203,334,206,320,207,315,228,299,226,282,226,265,221,251,213,242,209,243,192,233,191z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Army of Club Penguin"
  },
  {
    "id": "id29",
    "name": "Southern Lights",
    "path": "M174,269C163,272,167,287,163,295,160,306,147,309,141,317,132,325,118,334,107,324,103,316,98,303,86,304,76,309,73,322,65,329,53,344,45,366,52,385,66,402,90,401,110,400,128,400,146,398,164,395,177,398,190,402,204,400,218,400,233,399,246,392,255,387,270,392,275,380,279,373,290,367,285,358,284,351,280,340,271,343,257,346,245,354,233,361,223,363,211,362,205,352,194,343,206,329,202,317,196,301,190,284,179,271,178,270,176,269,174,269z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Aliens"
  },
  {
    "id": "id30",
    "name": "Tundra",
    "path": "M332,297C323,296,319,305,316,312,313,320,305,320,299,322,286,330,281,347,286,361,288,371,301,372,308,367,319,364,334,365,339,377,346,387,353,405,369,402,384,400,384,378,398,373,403,372,407,381,411,374,417,368,421,354,432,356,450,354,472,348,479,329,482,318,476,301,461,302,439,302,417,299,395,297,375,297,357,300,338,297,336,297,334,297,332,297z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Aliens"
  },
  {
    "id": "id31",
    "name": "Battleground",
    "path": "M318,547C306,550,295,561,300,574,300,578,305,588,297,587,287,587,275,587,267,596,264,601,252,601,255,610,259,622,256,635,249,647,245,656,249,666,249,675,241,688,223,683,211,688,200,690,190,698,180,692,169,689,156,684,148,694,135,704,129,722,133,738,148,749,168,756,177,774,181,786,176,799,178,812,185,813,198,810,198,821,198,832,196,843,198,854,213,861,232,857,246,867,251,871,261,872,262,863,263,846,263,827,277,815,286,804,277,789,286,779,293,766,306,757,310,742,312,732,307,723,302,715,313,698,317,678,320,658,324,648,336,638,329,625,326,611,320,598,315,585,316,574,327,566,330,557,327,553,323,548,318,547z",
    "continent": "Old Map Legacy Lands",
    "type": "CAPITAL",
    "controller": "CPA Battleground"
  }
];

Highcharts.mapChart('container', {
    chart: {
		// testing null
        height: '52%',
        // weight: 'auto',
        backgroundColor: 'transparent',
        type: 'map', // Trocado para 'map' para garantir que funciona bem
		margin: 0,
        spacing: [0, 0, 0, 0]
    },
	mapView: {
        padding: 0 
    },
    title: {
        text: ''
    },
    mapNavigation: {
        enabled: true,
        enableDoubleClickZoomTo: true,
        buttonOptions: {
            verticalAlign: 'top',
            align: 'left',
            x: 15,
            y: 40,
            width: 20,  
            height: 20, 
            padding: 0, 
            style: {
                color: '#00f3ff',
                fontSize: '12px', 
                fontWeight: 'bold'
            },
            theme: {
                'stroke-width': 1,
                stroke: 'rgba(0, 243, 255, 0.3)',
                fill: 'rgba(20, 30, 50, 0.95)',
                r: 4, // Rounded corners
                states: {
                    hover: {
                        fill: 'rgba(0, 243, 255, 0.1)',
                        stroke: '#00f3ff'
                    },
                    select: {
                        fill: 'rgba(0, 243, 255, 0.2)',
                        stroke: '#00f3ff'
                    }
                }
            }
        },
        // ATTEMPT FIXING THE OVERLAP CAUSED
        buttons: {
            zoomIn: {
                y: 0 // Top button stays put
            },
            zoomOut: {
                y: 20 // Moves bottom button down: 20px (height) 
            }
        }
    },
    legend: {
        enabled: false
    },
	credits: {
        enabled: false
    },
    plotOptions: {
        map: {
            allAreas: false,
            joinBy: ['id', 'id'],
            keys: ['id', 'id'],
        },
    },

    // --- TOOLTIP INTELIGENTE (LÃŠ AS CORES AUTOMATICAMENTE) ---
    tooltip: {
        useHTML: true, 
        backgroundColor: 'transparent',
        borderWidth: 0,
        shadow: false,
        padding: 0,
        followPointer: true,
        headerFormat: '', 
        formatter: function() {
            const point = this.point;
            
            // 1. LÃ“GICA DE COR
            // Vai ao elemento do mapa e pergunta: "Qual Ã© a tua cor no CSS?"
            let accentColor = '#666666'; // Cor de seguranÃ§a
            
            try {
                if (point.graphic && point.graphic.element) {
                    // Isto lÃª a cor definida no map.css
                    const style = window.getComputedStyle(point.graphic.element);
                    if (style && style.fill) {
                        accentColor = style.fill;
                    }
                }
            } catch (e) { 
                // Se der erro, mantÃ©m cinzento e nÃ£o estraga o mapa
                console.log(e); 
            }

            // 2. DADOS (Com proteÃ§Ã£o para nÃ£o aparecer "undefined")
            const armyName = point.controller || "Unknown";
            const serverType = point.type || "Normal";
            const continent = point.continent || "Unknown Region";

            // 3. HTML DO CARTÃƒO
            return `
                <div class="map-tooltip-card" style="border-left: 5px solid ${accentColor};">
                    <div class="map-tooltip-header" style="color: ${accentColor}; text-shadow: 0 0 10px ${accentColor};">
                        ${point.name}
                    </div>
                    <div class="map-tooltip-info">
                        <div><strong>Owner:</strong> ${armyName}</div>
                        <div><strong>Type:</strong> ${serverType}</div>
                        <div><strong>Continent:</strong> ${continent}</div>
                    </div>
                </div>
            `;
        }
    },

    series: [{
        name: 'cpa',
        
        // Estilo do Texto no Mapa (Nomes dos Servidores)
        dataLabels: {
            enabled: true,
			//allowOverlap: true, // ForÃ§a a aparecer mesmo que se toquem
            crop: false,
            style: {
                textOutline: '1px black', // AQUI ESTÃ O CONTORNO PRETO
                color: '#e0e6ed',
                fontWeight: 'bold',
                fontSize: '12px',
                fontFamily: 'Rajdhani, sans-serif'
            },
            formatter: function() {
                if (this.point.type === "CAPITAL") {
                    return '<span style="color: #00ff00;">' + this.point.name + '</span>';
                } else {
                    return this.point.name;
                }
            }
        },

        // --- AQUI ESTAVA O ERRO ANTES ---
        // ligar o mapData completo para o Tooltip saber os dados todos
        mapData: mapData,
        data: mapData, 
        joinBy: 'id',
        keys: ['id', 'controller']
    }]

}, 
// --- FUNÃ‡ÃƒO ORIGINAL DE CLASSES ---
function(chart) {
  // Loop para adicionar as classes CSS (.WV, .ACP, etc)
  chart.series[0].points.forEach(function(point) {
    if (point.controller === "Teutons"){
        point.graphic.addClass('Teutons');
    }
    if (point.controller === "Locked Land"){
        point.graphic.addClass('LOCKED');
    }
    
    
    
    
    
    
    if (point.controller === "Aliens"){
        point.graphic.addClass('ALIENS');
    }
    
    
    
    
    
    if (point.controller === "Club Penguin Armies") {
      point.graphic.addClass('CPA');
    }
    if (point.controller === "CPA Battleground"){
    	point.graphic.addClass('CPAB');
    }
    if (point.controller === "Club Penguin Army Judges"){
    	point.graphic.addClass('CPAJ');
    }
    if (point.controller === "Freeland"){
    	point.graphic.addClass('Free');
    }
    if (point.controller === "Water Vikings"){
                point.graphic.addClass('WV');
            }
    if (point.controller === "Army of Club Penguin"){
                point.graphic.addClass('ACP');
            }
    if (point.controller === "Elite Guardians of Club Penguin"){
    	point.graphic.addClass('EGCP');
    }
    if (point.controller === "Special Weapons and Tactics"){
    	point.graphic.addClass('SWAT');
    }
    
    if (point.controller === "Shreks of CP"){
    	point.graphic.addClass('SHREKS');
    }
    if (point.controller === "Peoples Imperial Confederation"){
    	point.graphic.addClass('PIC');
    }
    if (point.controller === "wii phone"){
    	point.graphic.addClass('WII');
    }
    if (point.controller === "Romans"){
    	point.graphic.addClass('ROMANS');
    }
    
    if (point.controller === "Seraphic Imperium"){
    	point.graphic.addClass('SI');
    }
    if (point.controller === "Void Troops"){
    	point.graphic.addClass('VT');
    }
    if (point.controller === "Shadow Legionaries"){
    	point.graphic.addClass('SL');
    }
    if (point.controller === "Marines"){
    	point.graphic.addClass('MARINES');
    }
    if (point.controller === "Kanye West Army"){
    	point.graphic.addClass('YE');
    }
    if (point.controller === "Tsunamis of Club Penguin"){
    	point.graphic.addClass('TSUNAMIS');
    }
    
    if (point.controller === "Templars"){
                point.graphic.addClass('TCP');
            }
    if (point.controller === "Rebel Penguin Federation"){
    	point.graphic.addClass('RPF');
    }
    if (point.controller === "Winged Hussars"){
    	point.graphic.addClass('WH');
    }
     if (point.controller === "Help Force"){
    	point.graphic.addClass('HF');
    }
     if (point.controller === "Smart Penguins"){
    	point.graphic.addClass('SP');
    }
	 if (point.controller === "Scarlet Republic"){
    	point.graphic.addClass('SR');
    }
	 if (point.effect) {
        point.graphic.addClass(point.effect);
    }
	 if (point.hotspot === true) {
        point.graphic.addClass('hotspot-active');
    }
    
  });
});
