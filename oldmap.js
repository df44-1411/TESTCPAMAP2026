//OLD CPA MAP - A PROJECT FOR CPA ORG

//MAP DESIGN and HIGHCHARTS DEVELOPMENT by df44 (Discord:.df44) (c) 2024  JUST SOME LANDS HERE

//MAP STARTS HERE!!
var mapData = [
  {
    "id": "id0",
    "name": "Xat",
    "path": "M806,944C798,934,799,930,810,918,831,897,836,895,845,910,851,920,853,927,849,927,847,927,846,931,846,934,846,938,844,942,842,943,839,944,836,946,835,948,834,950,829,952,822,952,814,952,810,950,806,944z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id1",
    "name": "Frosty",
    "path": "M882,884C878,878,873,874,870,874,867,874,862,871,858,869,854,866,844,863,836,862,827,861,820,859,819,858,819,857,814,855,808,853,803,852,794,848,790,844,783,837,781,834,781,825,781,819,780,815,779,815,777,815,776,813,776,811,776,808,774,805,771,803,768,801,766,798,766,796,766,794,764,787,762,782,761,776,760,772,761,772,764,772,794,746,797,741,800,736,799,725,794,716,791,711,789,706,789,704,789,700,796,701,804,708,811,713,815,714,836,714,849,714,861,715,862,716,864,718,864,723,862,730,861,735,861,742,861,743,864,752,899,751,907,743,909,741,915,738,919,737L928,735,929,750C929,758,929,769,928,775,928,782,929,786,935,790,943,797,954,797,960,790,962,787,966,785,968,785,972,785,972,794,967,799,961,806,963,816,970,821L977,826,967,831C962,834,951,838,944,840,929,845,923,851,928,856,931,859,932,876,929,881,928,883,923,885,917,886,912,887,906,890,904,892,898,898,889,896,882,884z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id2",
    "name": "Brumby",
    "path": "M873,730C873,717,873,716,863,711,852,705,833,703,825,708,820,710,805,702,805,697,805,695,802,694,799,694,794,694,793,692,797,687,799,683,825,673,832,673,835,673,838,671,839,668,840,665,842,660,844,656,849,645,849,642,841,635,830,624,832,622,861,622,875,622,891,623,896,624,904,627,912,626,930,623,943,621,957,619,960,620,967,623,989,638,989,641,989,642,978,656,963,672,940,697,936,702,936,710,936,720,929,729,920,729,917,729,909,732,903,736,896,740,887,743,881,743L872,743z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id3",
    "name": "Deep Freeze",
    "path": "M1097,788C1091,787,1087,784,1085,779,1082,773,1081,772,1069,774,1062,775,1054,777,1052,780,1044,788,1042,782,1048,770,1053,760,1060,732,1060,722,1060,702,1042,697,1027,711,1020,718,1017,719,1012,718,993,713,991,713,985,720,978,728,970,729,961,723,957,721,952,719,949,719,944,719,943,718,943,711,943,704,947,698,970,674,991,652,997,647,1000,649,1002,651,1010,653,1018,654,1039,655,1062,660,1062,663,1062,666,1072,666,1073,663,1075,659,1095,659,1095,662,1095,664,1099,665,1103,666,1114,669,1121,678,1119,689,1118,698,1121,709,1126,715,1131,720,1136,742,1135,758,1135,770,1130,779,1120,782,1117,783,1112,786,1110,788,1108,790,1104,790,1097,788z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id4",
    "name": "Sub Zero",
    "path": "M939,867C939,855,939,855,954,848,961,845,969,842,971,842,976,842,985,831,985,825,985,822,981,818,977,815,969,810,969,810,975,807,979,804,980,801,980,793,980,775,969,770,950,779,940,784,933,780,940,773,944,769,944,768,941,764,938,760,937,755,937,743,938,727,938,727,946,726,952,726,957,728,962,731,971,738,985,737,994,729,998,725,1002,724,1016,725,1032,726,1034,726,1035,721,1036,715,1046,711,1051,714,1054,716,1054,728,1051,730,1050,731,1048,737,1047,743,1046,750,1044,756,1043,757,1039,760,1030,796,1033,799,1036,803,1051,797,1059,789,1066,780,1079,780,1083,788,1084,792,1089,795,1094,797,1102,799,1102,799,1098,802,1096,804,1090,808,1086,812,1079,818,1078,820,1080,829,1081,834,1083,840,1085,843,1090,848,1090,859,1085,861,1083,862,1081,865,1081,867,1081,869,1079,871,1077,871,1047,872,1029,874,1015,877,1002,879,996,879,987,877,972,873,951,873,944,877,940,879,939,878,939,867z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id5",
    "name": "Hockey",
    "path": "M770,690C769,679,768,679,753,671L737,663L737,638C737,624,738,613,739,613,741,613,744,611,746,609,755,599,800,599,809,608,812,611,815,613,817,613,821,613,828,621,830,630,831,635,834,641,836,644,844,654,837,662,817,668,801,672,792,679,789,690,788,695,778,702,773,702,771,702,770,696,770,690z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id6",
    "name": "Fiesta",
    "path": "M703,768C702,766,697,765,692,765,683,765,682,764,680,758,679,754,676,751,669,749,664,747,658,744,656,743,655,741,649,739,644,738,631,736,630,726,641,708L650,695,668,695C685,695,686,694,691,687,695,681,700,679,716,675L735,670,746,676C756,682,757,684,757,692,757,704,761,708,770,708,777,708,787,719,789,730,791,738,790,740,781,748,765,763,737,775,737,768,737,765,726,759,720,759,718,759,713,762,710,765,707,769,704,770,703,768z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Water Vikings"
  },
  {
    "id": "id7",
    "name": "Yukon",
    "path": "M613,826C604,823,598,814,598,803,598,798,597,793,595,793,594,793,592,790,592,786,591,783,588,780,586,780,584,780,582,777,582,775,582,772,580,768,577,765,573,761,572,757,572,745,572,731,572,728,566,724,560,719,559,718,561,708,563,697,566,693,579,690,585,688,593,696,598,709,601,719,607,723,615,723,619,723,621,726,622,731,624,740,628,743,647,748,661,753,664,756,674,769,678,773,682,774,689,774,695,774,701,775,704,777,707,779,710,778,715,774,723,768,729,769,731,776,732,779,735,783,737,785,742,790,746,817,744,824,742,828,740,828,729,827,722,826,715,824,714,822,713,821,700,820,684,819,660,819,655,819,650,823,645,828,622,830,613,826z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Water Vikings"
  },
  {
    "id": "id8",
    "name": "Snowy River",
    "path": "M605,706C602,700,597,693,595,690,590,685,575,684,570,689,568,691,566,691,563,687,559,683,559,682,570,672,576,666,583,661,586,660,598,656,610,635,610,620L610,613L639,613C719,612,723,612,725,616,728,621,727,651,725,660,723,665,720,667,708,668,696,670,692,672,684,681,676,690,673,691,671,689,662,680,642,689,631,706,621,721,613,721,605,706z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id9",
    "name": "Cold Front",
    "path": "M519,786C513,785,507,784,507,782,507,781,505,779,503,778,496,776,493,762,498,754,503,747,504,739,500,739,497,739,496,730,500,727,503,723,518,694,518,690,518,688,522,683,526,678,531,673,537,664,539,659,542,654,547,646,551,642,555,638,558,634,558,632,558,628,567,621,571,621,574,621,576,620,576,619,577,617,583,616,591,615L604,614,603,626C601,639,594,648,586,648,584,648,577,653,570,660L557,672,557,703C556,733,556,735,562,741,567,745,568,749,568,760,568,771,569,775,574,779L579,785L567,785C559,785,549,785,543,786,536,787,526,786,519,786z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id10",
    "name": "South Pole",
    "path": "M1331,894C1314,882,1292,859,1289,850,1288,847,1288,834,1289,821,1290,798,1290,798,1302,785L1314,771,1334,772C1348,773,1354,775,1357,778,1361,785,1380,785,1387,778,1390,775,1391,775,1399,779,1405,782,1406,784,1403,784,1401,785,1398,788,1397,792,1397,795,1392,802,1387,808,1379,817,1378,818,1378,836,1378,850,1379,856,1383,861,1386,865,1390,868,1391,868,1395,868,1400,875,1399,879,1395,891,1375,903,1357,903,1346,903,1342,902,1331,894z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id11",
    "name": "Hot Chocolate",
    "path": "M1406,776C1399,772,1391,769,1390,769,1389,769,1385,772,1381,775L1373,781,1365,775C1359,772,1350,770,1338,769L1319,768,1327,759C1331,755,1337,744,1342,734,1347,721,1350,717,1356,716,1360,715,1364,713,1366,711,1367,709,1370,707,1371,707,1373,707,1380,704,1387,700,1394,696,1404,694,1410,694,1416,694,1421,692,1422,690,1423,688,1423,688,1424,690,1424,692,1425,694,1427,694,1428,694,1433,697,1437,700,1445,708,1465,712,1470,707,1476,703,1481,715,1478,728,1477,733,1476,743,1475,749,1473,762,1460,772,1448,770,1440,768,1429,773,1422,781,1421,783,1416,782,1406,776z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id12",
    "name": "Sabertooth",
    "path": "M1606,834C1605,833,1599,830,1592,828,1586,826,1579,823,1579,822,1578,821,1567,819,1555,817,1528,814,1526,813,1520,811,1515,809,1502,817,1496,825,1492,831,1483,832,1475,827,1467,823,1455,810,1455,808,1455,806,1449,800,1443,793,1430,779,1430,773,1443,775,1457,777,1480,766,1480,756,1480,754,1483,749,1488,744,1494,738,1497,737,1509,737,1516,737,1525,735,1528,733,1532,731,1536,728,1538,727,1544,724,1549,733,1551,752,1552,762,1555,771,1557,772,1562,776,1577,771,1584,765,1588,761,1592,759,1597,760,1601,761,1606,759,1612,754,1616,751,1623,747,1627,747,1631,747,1636,745,1639,741,1647,733,1656,730,1667,734,1673,736,1675,739,1675,743,1675,752,1678,758,1681,758,1683,758,1685,761,1687,764,1689,766,1693,769,1696,769,1703,769,1718,776,1718,780,1718,781,1716,783,1714,784,1712,785,1708,788,1705,790,1696,800,1689,804,1679,807,1673,809,1667,812,1665,813,1663,815,1659,818,1655,819,1652,820,1650,821,1650,823,1650,824,1648,825,1645,825,1642,825,1639,827,1638,828,1638,830,1635,831,1632,831,1629,831,1627,832,1627,833,1627,837,1608,837,1606,834z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id13",
    "name": "Jerusalem",
    "path": "M1487,724C1489,712,1488,710,1482,702,1476,695,1475,692,1477,684,1478,679,1479,675,1480,675,1482,675,1484,671,1485,667,1489,658,1502,651,1519,650,1533,648,1544,640,1551,625,1561,605,1573,605,1575,626,1577,639,1574,645,1561,660,1547,675,1536,695,1536,706,1536,713,1534,718,1529,724,1522,730,1519,731,1506,731,1498,731,1490,733,1489,734,1486,737,1486,734,1487,724z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id14",
    "name": "Sherbet",
    "path": "M1561,765C1560,764,1560,760,1560,755,1560,746,1552,726,1547,723,1538,716,1550,686,1573,660,1578,654,1584,646,1585,642,1587,638,1591,635,1594,634,1598,633,1605,628,1610,624,1626,611,1631,619,1619,639,1611,653,1611,661,1619,666,1625,670,1626,673,1626,685,1626,697,1627,700,1632,706,1636,710,1643,715,1648,716,1658,720,1657,724,1644,727,1639,728,1632,732,1628,736,1624,740,1620,743,1617,743,1615,743,1609,745,1605,748,1600,751,1594,753,1591,752,1587,751,1583,752,1579,755,1572,763,1563,767,1561,765z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id15",
    "name": "Zipline",
    "path": "M1661,718C1662,711,1659,708,1647,706,1635,704,1631,697,1632,680,1632,669,1631,666,1626,662L1619,656,1626,642C1629,635,1632,626,1632,623,1632,616,1658,590,1668,588,1684,584,1695,571,1688,563,1684,558,1692,541,1698,542,1703,544,1716,530,1722,518,1727,509,1731,508,1756,510,1768,511,1781,511,1784,511,1788,511,1797,511,1804,511,1814,511,1818,510,1822,505,1833,494,1846,493,1856,502,1859,505,1860,507,1856,512,1854,515,1852,522,1851,528,1850,536,1847,541,1840,547,1831,554,1831,554,1804,552,1777,550,1776,551,1770,557,1756,570,1765,589,1786,589,1795,589,1804,593,1807,598,1809,600,1809,645,1808,645,1807,645,1805,641,1803,636,1798,625,1795,624,1785,624,1779,624,1774,626,1769,632,1763,638,1760,639,1756,637,1749,633,1742,634,1738,641,1733,648,1732,664,1736,664,1740,664,1739,672,1734,674,1732,675,1728,677,1726,679,1725,681,1720,684,1716,685,1710,686,1699,695,1680,714,1677,717,1671,721,1667,722,1660,723,1660,723,1661,718z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id16",
    "name": "Sparkle",
    "path": "M1584,626C1583,624,1582,621,1582,618,1581,615,1577,610,1573,607,1569,604,1565,601,1565,600,1565,598,1582,587,1589,585,1598,583,1597,574,1588,570,1577,566,1572,560,1572,549,1572,533,1579,527,1599,524,1608,523,1617,521,1618,520,1619,517,1652,501,1656,501,1657,501,1660,498,1661,495,1663,492,1665,491,1667,492,1668,493,1677,493,1685,493,1699,492,1701,493,1711,503L1722,513,1714,524C1708,533,1705,535,1700,534,1695,533,1693,534,1691,539,1690,542,1687,549,1684,553,1678,562,1677,572,1682,575,1686,577,1679,581,1671,581,1664,581,1656,587,1640,603,1633,611,1629,614,1623,614,1614,614,1606,617,1599,625,1594,630,1585,631,1584,626z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id17",
    "name": "Snow Globe",
    "path": "M1783,507C1782,505,1770,504,1754,504,1730,503,1717,500,1717,495,1717,491,1698,484,1688,484L1679,484L1685,476C1689,471,1692,466,1692,463,1692,461,1696,454,1702,448,1707,442,1713,431,1715,425,1717,418,1721,410,1724,407,1727,403,1730,399,1730,398,1730,396,1732,395,1734,395,1736,395,1738,394,1738,392,1738,389,1749,389,1751,392,1752,394,1756,395,1760,396,1765,397,1769,400,1770,402,1771,404,1778,407,1785,408,1793,410,1798,413,1798,415,1798,417,1800,422,1801,426,1804,433,1804,433,1836,433,1864,433,1874,435,1862,439,1854,442,1844,452,1844,457,1844,459,1841,465,1836,469,1831,475,1829,479,1829,486,1829,499,1820,507,1806,504,1800,503,1795,504,1792,507,1788,510,1786,510,1783,507z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id18",
    "name": "North Pole",
    "path": "M1859,499C1856,496,1850,494,1845,494,1835,494,1832,487,1839,481,1842,478,1847,472,1850,467,1852,462,1859,455,1865,451,1874,445,1875,443,1875,436,1875,423,1869,420,1836,422,1813,422,1808,422,1808,419,1808,416,1813,414,1822,411,1829,409,1838,406,1841,404,1844,402,1851,399,1856,398,1861,397,1865,396,1865,395,1865,386,1937,381,1953,389,1962,393,1969,406,1969,419,1969,427,1962,443,1958,443,1957,443,1950,448,1943,455,1936,462,1927,469,1924,470,1921,471,1919,473,1919,475,1919,476,1914,478,1908,479,1903,480,1897,482,1897,484,1896,486,1892,489,1887,490,1882,491,1876,494,1872,498,1866,504,1865,504,1859,499z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id19",
    "name": "Sled",
    "path": "M1887,687C1887,685,1877,683,1865,681,1853,679,1844,676,1844,675,1844,674,1842,673,1840,673,1836,673,1822,666,1817,661,1815,659,1815,648,1816,629,1817,612,1817,596,1816,593,1812,583,1801,576,1789,576,1783,576,1777,574,1774,572,1770,569,1770,569,1774,564,1777,560,1781,560,1788,561,1816,567,1825,566,1837,559,1849,551,1854,544,1859,528,1862,517,1867,514,1871,521,1873,525,1890,538,1899,541,1902,543,1904,545,1904,546,1904,547,1909,550,1915,552,1920,554,1925,556,1925,558,1925,559,1927,561,1929,562,1936,564,1958,590,1962,598,1966,607,1966,633,1963,650,1960,668,1942,684,1925,684,1920,684,1917,685,1917,686,1917,688,1910,689,1902,689,1893,689,1887,688,1887,687z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id20",
    "name": "Puddle",
    "path": "M1715,770C1712,764,1707,761,1699,758,1684,754,1678,749,1678,740,1678,737,1676,733,1674,731,1671,727,1672,726,1679,722,1684,720,1689,716,1690,714,1690,712,1692,710,1694,710,1696,710,1701,706,1704,700,1708,695,1712,691,1714,691,1715,691,1723,688,1731,684,1743,678,1746,675,1748,667,1751,660,1750,656,1748,652,1742,643,1746,638,1756,644,1767,649,1767,649,1773,639,1782,621,1793,627,1799,655,1801,662,1805,671,1807,674,1810,677,1812,681,1812,682,1812,684,1814,686,1815,686,1821,686,1830,697,1830,705,1830,713,1821,722,1811,724,1803,726,1789,737,1789,741,1789,743,1784,749,1779,755,1769,764,1765,766,1749,769,1739,771,1731,773,1731,775,1731,780,1719,776,1715,770z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id21",
    "name": "Geladeira",
    "path": "M1706,883C1702,880,1700,876,1700,870,1700,858,1703,850,1706,850,1708,850,1711,847,1713,844,1718,836,1734,834,1740,841,1745,847,1754,873,1752,878,1749,886,1715,890,1706,883z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id22",
    "name": "Abracadabra",
    "path": "M1954,834C1948,833,1943,823,1943,812,1943,807,1940,803,1933,797,1925,791,1923,787,1921,778,1920,771,1921,761,1922,755,1924,746,1925,743,1932,742,1942,739,1958,742,1964,748,1968,752,1969,757,1969,777,1969,790,1969,801,1971,801,1973,801,1979,813,1979,819,1978,830,1967,837,1954,834z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id23",
    "name": "Mountain",
    "path": "M1440,888C1436,885,1434,881,1434,874,1434,866,1441,850,1444,850,1447,850,1461,865,1464,872,1468,881,1464,887,1456,887,1453,887,1449,888,1448,890,1446,891,1443,890,1440,888z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Freeland"
  },
  {
    "id": "id24",
    "name": "Warzone",
    "path": "M1379,423C1362,417,1356,414,1349,407,1344,402,1340,401,1315,399,1300,398,1286,396,1285,395,1283,391,1266,392,1258,396,1253,398,1240,401,1228,402,1206,404,1206,404,1198,396,1192,391,1191,386,1191,378,1191,372,1192,368,1194,367,1197,366,1198,364,1198,363,1198,361,1201,356,1204,350,1208,345,1211,335,1212,329,1213,322,1215,317,1216,316,1217,315,1219,309,1220,303,1223,282,1226,275,1235,271,1240,269,1244,267,1244,266,1244,264,1279,255,1288,255,1306,255,1325,276,1325,295,1325,301,1326,306,1327,306,1329,306,1330,309,1330,311,1330,319,1336,330,1341,332,1343,333,1345,335,1345,336,1345,337,1347,339,1350,339,1353,340,1358,347,1361,354,1365,362,1371,369,1377,373,1383,377,1391,383,1396,386,1405,392,1426,399,1429,396,1430,396,1432,397,1434,399,1438,405,1430,416,1417,419,1412,421,1405,423,1401,425,1395,428,1395,428,1379,423z",
    "continent": "Old Map Legacy Lands",
    "type": "CAPITAL",
    "controller": "Club Penguin Army Judges"
  },
  {
    "id": "id25",
    "name": "Klondike",
    "path": "M850,261C846,256,843,251,843,245,843,241,841,235,839,232,836,228,833,220,833,212,832,204,830,197,829,196,827,195,825,191,824,187,822,176,815,174,774,174,747,173,736,172,735,170,734,168,722,166,697,166,678,165,660,164,659,163,657,162,655,157,655,152,654,147,652,142,651,142,649,142,648,136,648,129,648,116,643,97,638,94,635,92,629,58,631,53,632,50,639,48,648,46,656,44,663,41,665,40,671,35,695,32,702,35,706,36,718,38,728,38,750,38,755,41,755,58,755,65,753,71,747,79,742,85,738,91,737,91,733,94,730,107,731,112,733,119,737,121,745,121,749,121,752,122,752,123,752,125,757,126,763,127,769,128,776,130,779,131,787,133,805,113,815,91,820,81,825,73,827,73,828,73,832,70,835,66,843,57,850,52,857,50,864,47,879,32,879,27,879,26,881,23,883,22,885,22,887,19,887,17,887,15,888,13,889,13,890,13,895,10,898,6,905,-1,906,-1,933,1,948,2,961,3,962,5,963,6,967,8,971,9,975,10,979,13,980,16,980,19,982,22,984,22,986,23,988,31,989,40,990,49,992,56,993,56,997,56,996,72,993,73,991,74,989,80,989,88,988,98,988,102,991,105,994,108,996,111,996,113,996,118,1001,124,1009,130,1022,140,1024,160,1011,163,1007,164,1003,166,1002,168,996,175,986,178,954,179,928,179,919,181,912,185,899,192,893,200,891,211,890,216,887,222,884,224,881,226,879,230,879,234,879,238,876,245,873,250,869,255,866,261,866,262,866,269,857,268,850,261z",
    "continent": "Old Map Legacy Lands",
    "type": "CAPITAL",
    "controller": "Club Penguin Armies"
  },
  {
    "id": "id26",
    "name": "Northern Lights",
    "path": "M119,315C117,305,109,298,96,296L85,294,90,288C93,285,95,280,95,278,95,275,96,272,97,272,101,269,92,254,85,253,77,250,32,254,30,257,29,258,24,259,18,259,8,259,6,259,5,252,2,243,6,238,19,230,25,227,34,220,39,216,46,208,47,206,47,192,47,178,46,176,40,171,36,168,32,165,31,165,30,165,27,163,24,160,8,143,24,111,49,107,55,107,63,105,65,103,68,102,78,100,89,100,103,100,108,101,111,104,114,107,117,109,118,109,122,109,132,121,134,129,136,138,142,146,150,149,153,150,159,158,163,166,168,176,173,182,177,183,182,184,183,187,184,200,186,219,185,222,175,228,168,233,167,236,165,250,164,259,161,268,159,271,157,274,156,278,156,280,156,284,141,308,134,316,129,323,121,322,119,315z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Aliens"
  },
  {
    "id": "id27",
    "name": "Zero Grau",
    "path": "M257,217C256,215,253,213,250,213,246,213,243,211,242,207,239,196,230,183,225,183,223,183,214,190,206,198L192,214,191,198C190,181,186,173,177,172,173,172,170,167,167,160,164,154,159,147,155,145,147,141,143,136,138,124,136,118,131,110,126,107L119,100,124,88C134,68,152,53,165,56,171,57,178,67,183,80,184,83,187,86,188,88,190,89,193,96,195,103L199,115,226,116C241,116,254,117,254,118,254,120,258,122,263,124,268,126,273,128,274,129,275,130,281,133,287,136,294,139,299,142,299,143,299,144,306,147,314,149,323,151,330,153,330,154,330,156,331,156,333,156,334,156,339,160,343,164,350,171,352,183,346,183,344,183,341,186,340,188,339,191,334,194,330,195,325,196,321,199,318,205,314,214,309,216,287,217,278,217,268,219,264,220,260,221,258,220,257,217z",
    "continent": "Old Map Legacy Lands",
    "type": "CAPITAL",
    "controller": "Scarlet Republic"
  },
  {
    "id": "id28",
    "name": "Deu Branco",
    "path": "M208,351C204,349,202,347,204,343,208,328,208,323,203,318,199,315,197,310,197,302,197,287,188,269,178,264,170,260,169,259,171,249,172,243,174,237,175,237,176,237,179,234,183,231,186,228,195,220,204,213,212,206,221,198,223,195,227,190,227,190,229,195,233,209,236,213,242,216,246,218,251,221,253,224,257,229,259,229,269,226,276,225,282,224,285,225,287,226,295,225,303,223,313,221,320,217,326,211,336,200,347,195,350,199,352,201,353,220,354,246,355,285,355,290,351,290,349,290,346,289,346,288,345,286,340,285,334,285,322,285,314,292,309,305,306,312,303,315,298,316,294,317,282,322,272,328,262,334,251,339,246,339,242,339,235,342,229,347,219,356,217,356,208,351z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Army of Club Penguin"
  },
  {
    "id": "id29",
    "name": "Southern Lights",
    "path": "M183,403C183,400,151,396,129,397,83,398,82,398,71,392,56,384,49,373,47,357,46,344,46,344,58,329,67,319,71,311,73,304,75,293,75,293,96,301,106,305,108,308,111,319,112,328,119,330,131,326,144,321,144,321,163,282,166,276,171,271,173,271,180,271,188,285,188,298,188,306,190,313,193,317,198,323,198,327,197,336,196,345,196,349,201,355,208,365,226,365,237,355,241,351,248,349,252,348,257,348,264,346,268,344L276,339,279,348C283,362,283,368,277,372,274,374,272,377,273,379,274,382,269,384,253,386,242,388,230,391,226,393,223,395,215,398,209,399,203,400,198,401,198,403,198,404,195,405,191,405,186,405,183,404,183,403z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Aliens"
  },
  {
    "id": "id30",
    "name": "Tundra",
    "path": "M358,398C358,397,355,395,352,393,348,391,344,385,342,379,340,373,338,368,336,368,334,368,331,367,330,364,326,360,305,359,304,363,303,364,300,366,295,367L288,369,289,358C289,351,288,345,287,343,285,342,284,337,284,333,284,326,285,325,298,321,310,317,312,316,318,304,326,286,327,285,347,295,354,298,366,298,371,293,373,292,384,290,396,289,407,288,425,287,434,286,456,284,467,289,474,304,481,318,479,327,469,338,462,344,459,345,442,346,427,347,422,349,417,353,407,363,403,366,401,366,400,366,395,370,391,375,381,390,375,395,370,395,367,395,365,396,365,398,365,399,363,401,361,401,359,401,358,400,358,398z",
    "continent": "Old Map Legacy Lands",
    "type": "NORMAL",
    "controller": "Aliens"
  },
  {
    "id": "id31",
    "name": "Battleground",
    "path": "M231,863C225,863,218,861,215,859,212,857,205,854,200,852,190,849,190,848,190,835,190,823,189,819,184,815,180,811,177,805,176,801,175,796,173,792,171,792,169,791,167,786,166,781,165,770,154,755,148,755,146,755,144,752,143,749,142,746,137,739,132,732,116,712,119,703,143,700,151,699,162,696,167,693,174,689,182,688,197,688,220,688,231,685,231,678,231,676,234,671,237,667,244,661,244,659,245,632,245,616,246,602,246,600,246,598,251,596,257,594,264,592,269,590,269,589,269,587,273,585,279,583,284,581,289,578,289,577,289,576,291,575,293,575,296,575,297,572,297,563,297,548,301,544,316,546,332,548,334,551,327,561,322,568,322,571,323,582,324,594,326,600,336,621,339,627,339,630,336,636,334,640,332,647,332,652,332,656,331,662,329,663,327,665,324,672,324,679,323,686,321,700,320,710,318,722,316,729,312,734,309,737,307,742,307,745,307,747,306,750,305,751,303,752,301,755,301,759,300,763,295,771,291,776,286,782,284,787,284,795,284,801,283,806,282,806,281,806,279,817,278,830,277,850,276,854,270,859,263,865,259,866,231,863z",
    "continent": "Old Map Legacy Lands",
    "type": "CAPITAL",
    "controller": "CPA Battleground"
  }
];

Highcharts.mapChart('container', {
    chart: {
		// testing null
        height: '52%',
        // weight: 'auto',
        backgroundColor: 'transparent',
        type: 'map', // Trocado para 'map' para garantir que funciona bem
		margin: 0,
        spacing: [0, 0, 0, 0]
    },
	mapView: {
        padding: 0 
    },
    title: {
        text: ''
    },
    mapNavigation: {
        enabled: true,
        enableDoubleClickZoomTo: true,
        buttonOptions: {
            verticalAlign: 'top',
            align: 'left',
            x: 15,
            y: 40,
            width: 20,  
            height: 20, 
            padding: 0, 
            style: {
                color: '#00f3ff',
                fontSize: '12px', 
                fontWeight: 'bold'
            },
            theme: {
                'stroke-width': 1,
                stroke: 'rgba(0, 243, 255, 0.3)',
                fill: 'rgba(20, 30, 50, 0.95)',
                r: 4, // Rounded corners
                states: {
                    hover: {
                        fill: 'rgba(0, 243, 255, 0.1)',
                        stroke: '#00f3ff'
                    },
                    select: {
                        fill: 'rgba(0, 243, 255, 0.2)',
                        stroke: '#00f3ff'
                    }
                }
            }
        },
        // ATTEMPT FIXING THE OVERLAP CAUSED
        buttons: {
            zoomIn: {
                y: 0 // Top button stays put
            },
            zoomOut: {
                y: 20 // Moves bottom button down: 20px (height) 
            }
        }
    },
    legend: {
        enabled: false
    },
	credits: {
        enabled: false
    },
    plotOptions: {
        map: {
            allAreas: false,
            joinBy: ['id', 'id'],
            keys: ['id', 'id'],
        },
    },

    // --- TOOLTIP INTELIGENTE (LÊ AS CORES AUTOMATICAMENTE) ---
    tooltip: {
        useHTML: true, 
        backgroundColor: 'transparent',
        borderWidth: 0,
        shadow: false,
        padding: 0,
        followPointer: true,
        headerFormat: '', 
        formatter: function() {
            const point = this.point;
            
            // 1. LÓGICA DE COR
            // Vai ao elemento do mapa e pergunta: "Qual é a tua cor no CSS?"
            let accentColor = '#666666'; // Cor de segurança
            
            try {
                if (point.graphic && point.graphic.element) {
                    // Isto lê a cor definida no map.css
                    const style = window.getComputedStyle(point.graphic.element);
                    if (style && style.fill) {
                        accentColor = style.fill;
                    }
                }
            } catch (e) { 
                // Se der erro, mantém cinzento e não estraga o mapa
                console.log(e); 
            }

            // 2. DADOS (Com proteção para não aparecer "undefined")
            const armyName = point.controller || "Unknown";
            const serverType = point.type || "Normal";
            const continent = point.continent || "Unknown Region";

            // 3. HTML DO CARTÃO
            return `
                <div class="map-tooltip-card" style="border-left: 5px solid ${accentColor};">
                    <div class="map-tooltip-header" style="color: ${accentColor}; text-shadow: 0 0 10px ${accentColor};">
                        ${point.name}
                    </div>
                    <div class="map-tooltip-info">
                        <div><strong>Owner:</strong> ${armyName}</div>
                        <div><strong>Type:</strong> ${serverType}</div>
                        <div><strong>Continent:</strong> ${continent}</div>
                    </div>
                </div>
            `;
        }
    },

    series: [{
        name: 'cpa',
        
        // Estilo do Texto no Mapa (Nomes dos Servidores)
        dataLabels: {
            enabled: true,
			//allowOverlap: true, // Força a aparecer mesmo que se toquem
            crop: false,
            style: {
                textOutline: '1px black', // AQUI ESTÁ O CONTORNO PRETO
                color: '#e0e6ed',
                fontWeight: 'bold',
                fontSize: '12px',
                fontFamily: 'Rajdhani, sans-serif'
            },
            formatter: function() {
                if (this.point.type === "CAPITAL") {
                    return '<span style="color: #00ff00;">' + this.point.name + '</span>';
                } else {
                    return this.point.name;
                }
            }
        },

        // --- AQUI ESTAVA O ERRO ANTES ---
        // ligar o mapData completo para o Tooltip saber os dados todos
        mapData: mapData,
        data: mapData, 
        joinBy: 'id',
        keys: ['id', 'controller']
    }]

}, 
// --- FUNÇÃO ORIGINAL DE CLASSES ---
function(chart) {
  // Loop para adicionar as classes CSS (.WV, .ACP, etc)
  chart.series[0].points.forEach(function(point) {
    if (point.controller === "Teutons"){
        point.graphic.addClass('Teutons');
    }
    if (point.controller === "Locked Land"){
        point.graphic.addClass('LOCKED');
    }
    
    
    
    
    
    
    if (point.controller === "Aliens"){
        point.graphic.addClass('ALIENS');
    }
    
    
    
    
    
    if (point.controller === "Club Penguin Armies") {
      point.graphic.addClass('CPA');
    }
    if (point.controller === "CPA Battleground"){
    	point.graphic.addClass('CPAB');
    }
    if (point.controller === "Club Penguin Army Judges"){
    	point.graphic.addClass('CPAJ');
    }
    if (point.controller === "Freeland"){
    	point.graphic.addClass('Free');
    }
    if (point.controller === "Water Vikings"){
                point.graphic.addClass('WV');
            }
    if (point.controller === "Army of Club Penguin"){
                point.graphic.addClass('ACP');
            }
    if (point.controller === "Elite Guardians of Club Penguin"){
    	point.graphic.addClass('EGCP');
    }
    if (point.controller === "Special Weapons and Tactics"){
    	point.graphic.addClass('SWAT');
    }
    
    if (point.controller === "Shreks of CP"){
    	point.graphic.addClass('SHREKS');
    }
    if (point.controller === "Peoples Imperial Confederation"){
    	point.graphic.addClass('PIC');
    }
    if (point.controller === "wii phone"){
    	point.graphic.addClass('WII');
    }
    if (point.controller === "Romans"){
    	point.graphic.addClass('ROMANS');
    }
    
    if (point.controller === "Seraphic Imperium"){
    	point.graphic.addClass('SI');
    }
    if (point.controller === "Void Troops"){
    	point.graphic.addClass('VT');
    }
    if (point.controller === "Shadow Legionaries"){
    	point.graphic.addClass('SL');
    }
    if (point.controller === "Marines"){
    	point.graphic.addClass('MARINES');
    }
    if (point.controller === "Kanye West Army"){
    	point.graphic.addClass('YE');
    }
    if (point.controller === "Tsunamis of Club Penguin"){
    	point.graphic.addClass('TSUNAMIS');
    }
    
    if (point.controller === "Templars"){
                point.graphic.addClass('TCP');
            }
    if (point.controller === "Rebel Penguin Federation"){
    	point.graphic.addClass('RPF');
    }
    if (point.controller === "Winged Hussars"){
    	point.graphic.addClass('WH');
    }
     if (point.controller === "Help Force"){
    	point.graphic.addClass('HF');
    }
     if (point.controller === "Smart Penguins"){
    	point.graphic.addClass('SP');
    }
	 if (point.controller === "Scarlet Republic"){
    	point.graphic.addClass('SR');
    }
	 if (point.effect) {
        point.graphic.addClass(point.effect);
    }
	 if (point.hotspot === true) {
        point.graphic.addClass('hotspot-active');
    }
    
  });
});

